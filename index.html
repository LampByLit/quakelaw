<!doctype html>
<!--
    Bounce Back ~ A boomerang roguelike for JS13k
    Copyright (C) 2019 Frank Force

    This program is free software; you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation; either version 2 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details. 
-->    
<!--
    When life gets you down, 
    it's never too late to...

    B O U N C E B A C K

    A JS13k 2019 Game
    By Frank Force

    WASD = Move
    Mouse = Aim
    Click = Throw
    Space = Dash

    Hints
    - You will keep money after you die!
    - You won't take damage while dashing.
    - There are 10 levels.
    - Sand slows down you and enemies.
    - Yellow boormang can grab pickups.
    - Blue boomerang does double damage.
    - Beat the game to unlock speed run mode.
-->

<html>
<head>
<title>QLAW</title>
<link rel="icon" type="image/png" href="favicon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
body
{
background:#000;
overflow:hidden;
margin:0;
}
canvas
{
width:100%;
height:100%;
image-rendering:-moz-crisp-edges;
image-rendering:pixelated;
}
/* Dialogue Modal Styles */
#dialogueModal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.8);
z-index: 1000;
font-family: 'Press Start 2P', monospace;
}
#dialogueModal.open {
display: flex;
justify-content: center;
align-items: center;
}
.modal-content {
background: #2a2a2a;
border: 4px solid #fff;
border-radius: 8px;
width: 90%;
max-width: 600px;
max-height: 80vh;
display: flex;
flex-direction: column;
box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}
.modal-header {
background: #1a1a1a;
padding: 15px;
display: flex;
align-items: center;
justify-content: space-between;
border-bottom: 2px solid #fff;
}
.modal-header #npcName {
color: #fff;
font-size: 14px;
margin-right: 10px;
}
.modal-header #npcEmoji {
font-size: 20px;
margin-right: auto;
}
#recordButton {
background: #44ff44;
color: #000;
border: 2px solid #fff;
padding: 5px 10px;
cursor: pointer;
font-family: 'Press Start 2P', monospace;
font-size: 10px;
margin-right: 10px;
}
#recordButton:hover {
background: #66ff66;
}
#recordButton.recording {
background: #ff4444;
color: #fff;
animation: pulse 1s infinite;
}
@keyframes pulse {
0%, 100% { opacity: 1; }
50% { opacity: 0.7; }
}
#closeModal {
background: #ff4444;
color: #fff;
border: 2px solid #fff;
padding: 5px 10px;
cursor: pointer;
font-family: 'Press Start 2P', monospace;
font-size: 10px;
}
#closeModal:hover {
background: #ff6666;
}
.conversation-area {
flex: 1;
overflow-y: auto;
padding: 20px;
min-height: 200px;
max-height: 400px;
background: #1a1a1a;
}
.message {
margin-bottom: 15px;
padding: 10px;
border-radius: 4px;
word-wrap: break-word;
}
.message.player {
background: #333;
color: #fff;
text-align: right;
border-left: 3px solid #4a9eff;
}
.message.npc {
background: #2a4a2a;
color: #fff;
text-align: left;
border-left: 3px solid #4aff4a;
}
.message-text {
font-size: 10px;
line-height: 1.6;
}
.message-label {
font-size: 8px;
opacity: 0.7;
margin-bottom: 5px;
}
.input-area {
padding: 15px;
background: #1a1a1a;
border-top: 2px solid #fff;
display: flex;
gap: 10px;
}
#playerMessageInput {
flex: 1;
background: #333;
color: #fff;
border: 2px solid #666;
padding: 10px;
font-family: 'Press Start 2P', monospace;
font-size: 10px;
outline: none;
}
#playerMessageInput:focus {
border-color: #4a9eff;
}
#sendMessage {
background: #4a9eff;
color: #fff;
border: 2px solid #fff;
padding: 10px 20px;
cursor: pointer;
font-family: 'Press Start 2P', monospace;
font-size: 10px;
}
#sendMessage:hover {
background: #6ab3ff;
}
#sendMessage:disabled {
background: #666;
cursor: not-allowed;
}
.loading-indicator {
color: #4aff4a;
font-size: 10px;
text-align: center;
padding: 10px;
font-style: italic;
}
/* Judgment Statement Modal Styles */
#judgmentModal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.9);
z-index: 1001;
font-family: 'Press Start 2P', monospace;
}
#judgmentModal.open {
display: flex;
justify-content: center;
align-items: center;
}
.judgment-modal-content {
background: #2a2a2a;
border: 4px solid #fff;
border-radius: 8px;
width: 90%;
max-width: 700px;
max-height: 85vh;
display: flex;
flex-direction: column;
box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}
.judgment-header {
background: #1a1a1a;
padding: 15px;
display: flex;
align-items: center;
justify-content: space-between;
border-bottom: 2px solid #fff;
}
.judgment-header h2 {
color: #fff;
font-size: 12px;
margin: 0;
}
.judgment-body {
padding: 20px;
flex: 1;
overflow-y: auto;
display: flex;
flex-direction: column;
}
.case-summary-section {
background: #1a1a1a;
padding: 15px;
border: 2px solid #444;
margin-bottom: 20px;
max-height: 150px;
overflow-y: auto;
}
.case-summary-section h3 {
color: #fff;
font-size: 10px;
margin: 0 0 10px 0;
}
.case-summary-text {
color: #aaa;
font-size: 8px;
line-height: 1.4;
}
.statement-section {
flex: 1;
display: flex;
flex-direction: column;
}
.statement-section label {
color: #fff;
font-size: 10px;
margin-bottom: 10px;
}
#judgmentStatement {
background: #1a1a1a;
border: 2px solid #444;
color: #fff;
font-family: 'Press Start 2P', monospace;
font-size: 8px;
padding: 10px;
flex: 1;
min-height: 200px;
resize: vertical;
}
#judgmentStatement:focus {
outline: none;
border-color: #4a9eff;
}
.word-count {
color: #aaa;
font-size: 8px;
text-align: right;
margin-top: 5px;
}
.word-count.warning {
color: #ffaa44;
}
.word-count.error {
color: #ff4444;
}
.judgment-actions {
padding: 15px;
display: flex;
justify-content: flex-end;
gap: 10px;
border-top: 2px solid #444;
}
.judgment-button {
background: #4a9eff;
color: #fff;
border: none;
padding: 10px 20px;
font-size: 10px;
cursor: pointer;
font-family: 'Press Start 2P', monospace;
}
.judgment-button:hover {
background: #6ab3ff;
}
.judgment-button:disabled {
background: #666;
cursor: not-allowed;
}
.judgment-button.cancel {
background: #844;
}
.judgment-button.cancel:hover {
background: #a66;
}
/* Judgment Ruling Modal Styles */
#judgmentRulingModal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.95);
z-index: 1002;
font-family: 'Press Start 2P', monospace;
}
#judgmentRulingModal.open {
display: flex;
justify-content: center;
align-items: center;
}
.judgment-ruling-modal-content {
background: #2a2a2a;
border: 4px solid #fff;
border-radius: 8px;
width: 90%;
max-width: 700px;
max-height: 85vh;
display: flex;
flex-direction: column;
box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
}
.judgment-ruling-header {
background: #1a1a1a;
padding: 15px;
display: flex;
align-items: center;
justify-content: center;
border-bottom: 2px solid #fff;
}
.judgment-ruling-header h2 {
color: #fff;
font-size: 14px;
margin: 0;
}
.judgment-ruling-body {
padding: 20px;
flex: 1;
overflow-y: auto;
display: flex;
flex-direction: column;
gap: 20px;
}
.ruling-text {
background: #1a1a1a;
padding: 15px;
border: 2px solid #444;
color: #fff;
font-size: 9px;
line-height: 1.6;
white-space: pre-wrap;
word-wrap: break-word;
}
.verdict-section {
background: #1a1a1a;
padding: 15px;
border: 2px solid #444;
color: #fff;
font-size: 10px;
}
.verdict-section.win {
border-color: #4aff4a;
background: #1a3a1a;
}
.verdict-section.lose {
border-color: #ff4444;
background: #3a1a1a;
}
.punishments-section {
background: #1a1a1a;
padding: 15px;
border: 2px solid #444;
color: #fff;
font-size: 9px;
line-height: 1.6;
}
.punishments-section:empty {
display: none;
}
.judgment-ruling-actions {
padding: 15px;
display: flex;
justify-content: center;
border-top: 2px solid #444;
}
</style>
</head>
<body>
<canvas id=c1></canvas>
<canvas id=c2 style=visibility:hidden></canvas>

<!-- Judgment Statement Modal -->
<div id="judgmentModal">
<div class="judgment-modal-content">
<div class="judgment-header">
<h2>FRIDAY JUDGMENT - MAKE YOUR CASE</h2>
<button id="closeJudgmentModal" class="judgment-button cancel" style="padding: 5px 10px; font-size: 8px;">X</button>
</div>
<div class="judgment-body">
<div class="case-summary-section">
<h3>CASE SUMMARY:</h3>
<div id="judgmentCaseSummary" class="case-summary-text">Loading case summary...</div>
</div>
<div class="statement-section">
<label>YOUR STATEMENT (100 words maximum):</label>
<textarea id="judgmentStatement" placeholder="Present your case to the judge..."></textarea>
<div id="judgmentWordCount" class="word-count">0/100 words</div>
</div>
</div>
<div class="judgment-actions">
<button id="cancelJudgment" class="judgment-button cancel">Cancel</button>
<button id="submitJudgment" class="judgment-button">Submit Statement</button>
</div>
</div>
</div>

<!-- Judgment Ruling Modal -->
<div id="judgmentRulingModal">
<div class="judgment-ruling-modal-content">
<div class="judgment-ruling-header">
<h2>COURT RULING</h2>
</div>
<div class="judgment-ruling-body">
<div id="judgmentRulingText" class="ruling-text"></div>
<div id="judgmentVerdict" class="verdict-section"></div>
<div id="judgmentPunishments" class="punishments-section"></div>
</div>
<div class="judgment-ruling-actions">
<button id="okJudgmentRuling" class="judgment-button">OK</button>
</div>
</div>
</div>

<!-- Dialogue Modal -->
<div id="dialogueModal">
<div class="modal-content">
<div class="modal-header">
<span id="npcName">NPC Name</span>
<span id="npcEmoji">ðŸ˜Š</span>
<button id="recordButton">Record</button>
<button id="closeModal">X</button>
</div>
<div id="conversationHistory" class="conversation-area">
<!-- Messages will appear here -->
</div>
<div class="input-area">
<input type="text" id="playerMessageInput" placeholder="Type your message..." maxlength="500">
<button id="sendMessage">Send</button>
</div>
</div>
</div>

<script src='config.js'></script>
<script src='api.js'></script>
<script src='session.js'></script>
<script src='gameEngine.js'></script>
<script src='gameEngineDebug.js'></script>
<script src='game.js'></script>
<script src='npcs.js'></script>
<script src='dialogue.js'></script>
<script src='calendar.js'></script>
<script src='caseSystem.js'></script>
</body>
</html>